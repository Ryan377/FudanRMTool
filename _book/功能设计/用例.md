# 用例

用例：需求文档更新

范围：本程序

级别：用户目标

主要参与者：开发人员

涉众及其关注点：

- 开发人员：方便地创建/查看/修改文档，能够了解审议意见并调整需求文档
- 管理员：能够管理用户的角色，决定审议人员/开发人员/其他相关人员在系统内的身份
- 审议人员：能够查看当前模块内容并对提交审核的对象进行批复，能够在讨论区交流审议内容相关问题。
- 业务人员：能够以视图方式查看需要的内容

主成功场景：
1. 开发人员登陆系统

2. 开发人员选择模块并进入查看

3. 开发人员在当前模块进入编辑模式，增加/修改内容/调整层次/删除/其中的对象

4. 系统对每一次操作进行唯一标识，并保存历史记录进入数据库，对具有查看权限的角色更新其展示窗口。

   开发人员重复3-4阶段，直至其退出编辑模式

5. 开发人员对当前模块/某一对象提交复议

6. 复审人员进行高级注释或更改提议

   开发人员重复3-6阶段，直至其结束对当前对象/模块/文档的修改

7. 开发人员导出文档至本地，退出系统。

8. 系统断开与主数据库的链接。



扩展：（功能仅做参考）

a. 任意时刻与数据库连接中断：

1. 系统提示当前操作人员连接中断，不再实时向外推送与接受信息，直到下次主动重新连接。



b. 开发人员在任意时刻切换离开已处于编辑模式的当前页面：	

 1. 系统在导航栏或任意位置提示有尚未保存的本地对象。

 2. 系统退出对应模块任意级别的编辑模式。

 3. 开发人员继续操作

    3a. 如果退出系统，则丢弃未保存更改

    3b. 如果在另一模块开启编辑模式，保持更改未保存

    3c. 如果返回该模块，仍然显示相关为保存更改
    
    

c. 审议人员进行审议：

   1a. 添加新的高级注释

   1b. 添加新的更改提议

   1c. 进入讨论区提出讨论，或查看过去讨论的回复

2. 系统为相关负责角色更新审议结果



 d. 开发人员在模块进入编辑模式：

​    1a. 如果有角色当前已经独占模块编辑模式，取消进入动作

​	1b. 如果有角色共享编辑模式，通知他可能不是最新副本

​	1c. 如果有角色处于查看模式，通知他可能不是最新副本



e. 管理员角色进入用户管理界面：

   1. 展示所有角色及登录状态

   2a. 管理员为用户添加角色

   2b. 管理员删除用户角色

1. 如果用户当前登陆且正在编辑模式且执行角色删除后无权限修改该模块，退出他的编辑模式不保存修改

   2c. 管理员查看某个用户/角色/角色组/角色列表

   2d. 管理员新增新的角色

   2e. 管理员删除已有角色并递归删去所有相关用户权限